"use strict";(self.webpackChunkcrm_racoon=self.webpackChunkcrm_racoon||[]).push([[220],{8507:function(e,n,t){var r,o,i=t(168),a=(t(2791),t(2260)),s=t(184);n.Z=function(e){var n=e.text,t=e.bgColor,r=e.textColor,o=e.onClick,i=e.size,a=e.children;return(0,s.jsxs)(c,{onClick:o,type:"submit",name:"send",textColor:r,bgColor:t,children:[(0,s.jsx)(l,{size:i,children:a}),n||"Button"]})};var c=a.Z.button(r||(r=(0,i.Z)(["\n  background-color: ",";\n  cursor: pointer;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 10px;\n  color: ",";\n  font-weight: bold;\n  max-width: fit-content;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.25);\n  gap: 10px;\n  white-space: nowrap;\n  transition: 0.2s ease-in-out;\n  &:hover {\n    scale: 1.1;\n  }\n"])),(function(e){return e.bgColor?e.bgColor:"#0063C9"}),(function(e){return e.textColor?e.textColor:"#fff"})),l=a.Z.span(o||(o=(0,i.Z)(["\n  /* width: ",";\n  height: ","; */\n"])),(function(e){return e.size?e.size:"24px"}),(function(e){return e.size?e.size:"24px"}))},808:function(e,n,t){t.d(n,{Z:function(){return f}});var r,o,i,a=t(168),s=(t(2791),t(2260)),c=t(6355),l=t(7278),u=t(184),d=function(e){var n=e.size,t=e.fill;return(0,u.jsx)("svg",{width:null!==n&&void 0!==n?n:"35",height:null!==n&&void 0!==n?n:"35",viewBox:"0 0 35 35",fill:null!==t&&void 0!==t?t:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M2.91675 16.0415L13.1251 2.9165V10.2082C30.5565 10.2082 32.5676 24.3219 32.0834 32.0832C31.3513 28.1675 31.0115 21.8748 13.1251 21.8748V29.1665L2.91675 16.0415Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},x=t(8507),p=t(5116),f=function(e){var n=e.width,t=e.height,r=e.bgColor,o=e.children,i=e.nameSection,a=e._isHeaderButtons,s=e._needCancel,f=e._needSave,g=e._needOptionalButton,v=e._onOptionalButton,j=e._optionalButtonLabel,b=e._onSave,Z=e._onCancel;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(h,{width:n,height:t,bgColor:r,children:[(0,u.jsxs)("div",{className:"flex justify-between pb-4 ",children:[(0,u.jsx)(m,{children:i?(0,u.jsx)(l.H2,{text:i}):""}),a?(0,u.jsxs)("div",{className:"flex justify-end gap-4 w-full",children:[s&&(0,u.jsx)("div",{children:(0,u.jsx)(x.Z,{bgColor:"#EA5656",text:"Volver",onClick:Z,children:(0,u.jsx)(d,{size:20})})}),f&&(0,u.jsx)("div",{children:(0,u.jsx)(x.Z,{text:"Guardar",onClick:b,children:(0,u.jsx)(c.TvB,{})})}),g&&(0,u.jsx)("div",{children:(0,u.jsx)(p.Z,{bgColor:"green",text:j,onClick:v})})]}):""]}),o]})})},h=s.Z.div(r||(r=(0,a.Z)(["\n  width: ",";\n  min-height: 70vh;\n  height: ",";\n  background-color: ",";\n  box-shadow: 0px 0px 7px 7px rgba(0, 0, 0, 0.1);\n  border-radius: 10px;\n  padding: 10px 30px 30px;\n"])),(function(e){return e.width?e.size:"100%"}),(function(e){return e.height?e.size:"auto"}),(function(e){return e.bgColor?e.bgColor:"#fff"})),m=s.Z.div(o||(o=(0,a.Z)(["\n  padding: 15px 0;\n  width: 50%;\n"])));s.Z.div(i||(i=(0,a.Z)(["\n  padding: 0 0 15px;\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n"])))},3509:function(e,n,t){var r,o,i,a=t(168),s=(t(2791),t(2260)),c=(t(732),t(184));n.Z=function(e){var n=e.width,t=e.height,r=e.type,o=e.label,i=e.value,a=e.onChange,s=e.name;return(0,c.jsxs)(l,{children:[(0,c.jsx)(u,{name:s,value:i,type:r,width:n,height:t,onChange:a,required:!0}),o?(0,c.jsx)(d,{children:o}):""]})};var l=s.Z.div(r||(r=(0,a.Z)(["\n  width: 100%;\n  min-height: 40px;\n  position: relative;\n"]))),u=s.Z.input(o||(o=(0,a.Z)(["\n  width: ",";\n  height: ",";\n  border: 0;\n  background: #ffffff;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 5px;\n  font-size: 16px;\n  padding: 8px;\n"])),(function(e){var n;return null!==(n=e.width)&&void 0!==n?n:"100%"}),(function(e){var n;return null!==(n=e.height)&&void 0!==n?n:"40px"})),d=s.Z.label(i||(i=(0,a.Z)(["\n  color: #58585f;\n  font-size: 16px;\n  font-weight: bold;\n  position: absolute;\n  top: -5px;\n  left: 0;\n  padding: 10px 0 10px 10px;\n  pointer-events: none;\n  transition: 0.3s ease-in-out;\n"])))},3875:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(5671),o=t(3144),i=t(136),a=t(7277),s=t(2791),c=t(4164),l=document.getElementById("portal"),u=function(e){(0,i.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;return(0,r.Z)(this,t),(e=n.call(this)).componentDidMount=function(){l.appendChild(e.el)},e.componentWillUnmount=function(){l.removeChild(e.el)},e.el=document.createElement("div"),e}return(0,o.Z)(t,[{key:"render",value:function(){var e=this.props.children;return c.createPortal(e,this.el)}}]),t}(s.Component),d=t(6856),x=t(184),p=function(e){(0,i.Z)(t,e);var n=(0,a.Z)(t);function t(){return(0,r.Z)(this,t),n.apply(this,arguments)}return(0,o.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.children,t=e.toggle,r=e.active;return(0,x.jsx)(u,{children:r&&(0,x.jsx)("div",{style:f.back,children:(0,x.jsx)("div",{style:f.wrapper,onClick:t,children:(0,x.jsxs)("div",{style:f.window,children:[(0,x.jsx)(d.FU5,{size:24,fill:"#EA5656",style:f.closeBtn,onClick:t}),(0,x.jsx)("div",{children:n})]})})})})}}]),t}(s.Component),f={back:{backgroundColor:"rgba(0,0,0,0.4)",position:"fixed",top:0,left:0,width:"100%",height:"100vh"},wrapper:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},window:{position:"relative",background:"#fff",borderRadius:15,padding:30,boxShadow:"2px 2px 10px rgba(0,0,0,0.3)",minnWidth:450,minHeight:300,paddingTop:40},closeBtn:{position:"absolute",top:10,right:10,cursor:"pointer"}}},302:function(e,n,t){t.d(n,{cT:function(){return u},jK:function(){return x}});var r=t(4165),o=t(5861),i=t(2426),a=t(4453),s=t(2810),c=(0,i.ZF)({apiKey:"AIzaSyB0qohPxkNWXjq37Uc9cDZAxVY3J3r0O5w",authDomain:"crm-racoon.firebaseapp.com",projectId:"crm-racoon",storageBucket:"crm-racoon.appspot.com",messagingSenderId:"409942519422",appId:"1:409942519422:web:8cef3fd05aacbbade9322f"}),l=(0,a.cF)(c);function u(e){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,s.Z)(),o=(0,a.iH)(l,"photo_profile/".concat(t)),e.next=4,(0,a.KV)(o,n);case 4:return e.next=6,(0,a.Jt)(o);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,s.Z)(),o=(0,a.iH)(l,"logo_team/".concat(t)),e.next=4,(0,a.KV)(o,n);case 4:return e.next=6,(0,a.Jt)(o);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7220:function(e,n,t){t.r(n);var r=t(4165),o=t(5861),i=t(885),a=t(2791),s=t(5218),c=t(3701),l=t(808),u=t(9668),d=t(7278),x=t(5705),p=(t(7756),t(3509)),f=t(5116),h=t(863),m=t(6355),g=t(8507),v=t(302),j=t(3875),b=t(184);n.default=function(){var e=(0,a.useContext)(c.Z),n=e.getCreateTeam,t=e.team,Z=e.user,w=e.getTeam,C=e.getUpdateUser,y=e.getUpdateTeam,k=(0,a.useState)(!1),N=(0,i.Z)(k,2),z=N[0],U=N[1],L=(0,a.useState)({name:"",code:""}),S=(0,i.Z)(L,2),_=S[0],B=S[1],T=(0,a.useState)(""),H=(0,i.Z)(T,2),E=H[0],R=H[1],A=(0,a.useState)(!1),D=(0,i.Z)(A,2),V=D[0],I=D[1],M=(0,a.useState)(!1),F=(0,i.Z)(M,2),K=F[0],O=F[1];(0,a.useEffect)((function(){w()}),[Z,t]);var W=function(e){return s.Am.success(e)},q=function(e){return s.Am.error(e)},J=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var o,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),t.name&&t.code||q("Todos los campos son obligatorios"),(t.code.length<=4||t.code.length>=11)&&q("El codigo debe tener un minimo 5 caracteres y maximo 10"),e.t0=t.name,e.t1=t.code,e.next=7,(0,v.jK)(E);case 7:return e.t2=e.sent,o={name:e.t0,code:e.t1,logoURL:e.t2},e.next=11,n(o);case 11:if(null!==(i=e.sent)&&void 0!==i&&i.error&&(U(!1),q(i.error)),null===i||void 0===i||!i.data){e.next=18;break}return U(!1),W("El TEAM  ".concat(i.data.team.name," ha sido creado con exito.")),e.next=18,C({team_id:i.data.team.id,rol:5});case 18:U(!1);case 19:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,(0,v.jK)(n);case 3:return t=e.sent,o={logoURL:t},e.next=7,y(o);case 7:null!==(i=e.sent)&&void 0!==i&&i.error&&(U(!1),q("Ha ocurrido un error al guardar los cambios. Intente m\xe1s tarde.")),200===(null===i||void 0===i?void 0:i.status)&&(U(!1),W("Los cambios se han guardado con exito.")),U(!1);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=a.useRef(null),X=function(e){e.preventDefault(),P.current.click()};return(0,b.jsxs)(l.Z,{nameSection:"Mi Team",children:[1===(null===t||void 0===t?void 0:t.id)?(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4 border-4 rounded-md border-slate-200",children:[(0,b.jsx)(x.J9,{initialValues:_,enableReinitialize:!0,onSubmit:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(n);case 2:B({name:"",code:""});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:function(e){var n=e.handleChange,t=e.handleSubmit,r=e.values,o=e.isSubmiting;return(0,b.jsxs)(x.l0,{className:" p-10 flex flex-col gap-5 h-full",children:[(0,b.jsx)(d.H2,{text:"Crear un Team"}),(0,b.jsx)(p.Z,{name:"name",type:"text",label:"Nombre del Team",onChange:n,value:r.name}),(0,b.jsx)(p.Z,{name:"code",type:"text",label:"CODE",onChange:n,value:r.code}),(0,b.jsxs)("div",{className:"flex flex-col gap-3 items-center justify-center ",children:[E?(0,b.jsx)("div",{onClick:X,className:"h-32 w-32",children:(0,b.jsx)("img",{src:URL.createObjectURL(E),alt:"logoURL",className:"object-cover"})}):(0,b.jsx)(m.m3W,{onClick:X,size:150,fill:"#58585F",className:" cursor-pointer duration-500 rounded-full"}),(0,b.jsx)(g.Z,{onClick:X,text:"Cambiar foto",children:(0,b.jsx)(m.DUB,{})}),(0,b.jsx)("input",{type:"file",ref:P,accept:".jpeg,.png,.jpg",onChange:function(e){return R(e.target.files[0])},style:{display:"none"}})]}),(0,b.jsx)(d.H4,{color:"#a3a3a3",text:"El CODE es una identificador unico de tu Team que debe contener un minimo 5 y maximo 10 caracteres alfanumericos."}),(0,b.jsx)("div",{className:"text-center",children:z?(0,b.jsx)("span",{className:"flex justify-center",children:(0,b.jsx)(u.Z,{color:"#0063C9",size:25,loading:z})}):(0,b.jsx)(f.Z,{text:o?"Saving...":"Guardar cambios",type:"submit",disabled:o,onClick:t})})]})}}),(0,b.jsxs)("div",{className:"text-center flex flex-col items-center p-5",children:[(0,b.jsx)(d.H2,{text:"\xbfAun no tienes un Team?"}),(0,b.jsx)(d.H4,{text:"Crea un equipo y a\xf1ade participantes para interactuar con tus colegas."}),(0,b.jsx)("img",{src:h,alt:"astronaut",className:"max-h-80"})]})]}):(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:" flex flex-col items-center p-5 gap-3 border-4 rounded-md border-slate-200",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(d.H3,{text:"Mi Team"}),(0,b.jsx)(d.H2,{size:"25px",color:"#0063c9",text:t.name}),(0,b.jsx)("p",{className:"text-slate-600 font-bold",children:"Codigo del team: #".concat(t.code)})]}),(0,b.jsxs)("div",{children:[!t.logoURL&&(0,b.jsx)(m.m3W,{onClick:X,size:150,fill:"#58585F",className:" cursor-pointer duration-500 rounded-full"}),t.logoURL&&(0,b.jsxs)("div",{onClick:function(){return I(!V)},onMouseEnter:function(){return O(!0)},onMouseLeave:function(){return O(!1)},className:"relative flex items-center justify-center h-44 w-44 cursor-pointer rounded-full bg-black hover:opacity-90 transition-all ease-in-out",children:[(0,b.jsx)("p",{className:"absolute text-white pointer-events-none ".concat(K?null:"hidden z-10"," hover:flex z-10 transition-all ease-in-out"),children:"Ver foto"}),(0,b.jsx)("img",{className:"inline-block w-full h-full object-cover rounded-full ring-4 ring-slate-200 hover:opacity-50 hover:blur-sm transition-all ease-in-out",src:t.logoURL,alt:"team_logo"})]})]}),(0,b.jsx)(g.Z,{onClick:X,text:"Cambiar foto",children:(0,b.jsx)(m.DUB,{})}),(0,b.jsx)("input",{type:"file",ref:P,accept:".jpeg,.png,.jpg",onChange:function(e){return G(e.target.files[0])},style:{display:"none"}}),(0,b.jsx)(j.Z,{active:V,toggle:function(){I(!V)},children:(0,b.jsxs)("div",{className:"w-[100%] max-w-[325px] md:max-w-[600px] lg:max-w-[800px] text-center flex flex-col items-center gap-4",children:[(0,b.jsx)(d.H4,{size:"20px",color:"#0063c9",text:"".concat(t.name," ")}),(0,b.jsx)("img",{className:"max-h-[75vh]",src:t.logoURL,alt:"team_logo"})]})})]})}),(0,b.jsx)(s.x7,{})]})}},863:function(e,n,t){e.exports=t.p+"static/media/astronaut_moon.64e4fcb21eff4b2c060c.png"}}]);
//# sourceMappingURL=220.47d8ba61.chunk.js.map